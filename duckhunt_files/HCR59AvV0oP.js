if (self.CavalryLogger) { CavalryLogger.start_js(["fBC9R"]); }

__d("CometFeedStoryTranslatedMessageContainerRenderingStrategy_messageContainer$normalization.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},b={kind:"ScalarField",alias:null,name:"length",args:null,storageKey:null},c={kind:"ScalarField",alias:null,name:"offset",args:null,storageKey:null},d={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},e={kind:"LinkedField",alias:null,name:"work_foreign_entity_info",storageKey:null,args:null,concreteType:"WorkForeignEntityInfo",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"type",args:null,storageKey:null}]};return{kind:"SplitOperation",name:"CometFeedStoryTranslatedMessageContainerRenderingStrategy_messageContainer$normalization",metadata:{derivedFrom:"CometFeedStoryTranslatedMessageContainerRenderingStrategy_messageContainer"},selections:[a,{kind:"ScalarField",alias:null,name:"is_prod_eligible",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"story",storageKey:null,args:null,concreteType:"Story",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"is_text_only_story",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"translation",storageKey:null,args:null,concreteType:"Translation",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"message",storageKey:null,args:null,concreteType:"TextWithEntities",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"image_ranges",storageKey:null,args:null,concreteType:"ImageAtRange",plural:!0,selections:[b,c,{kind:"LinkedField",alias:null,name:"entity_with_image",storageKey:null,args:null,concreteType:null,plural:!1,selections:[a,{kind:"LinkedField",alias:null,name:"image",storageKey:null,args:null,concreteType:"Image",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"height",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"scale",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"uri",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"width",args:null,storageKey:null}]},d]}]},{kind:"LinkedField",alias:null,name:"inline_style_ranges",storageKey:null,args:null,concreteType:"InlineStyleAtRange",plural:!0,selections:[b,c,{kind:"ScalarField",alias:null,name:"inline_style",args:null,storageKey:null}]},{kind:"LinkedField",alias:null,name:"aggregated_ranges",storageKey:null,args:null,concreteType:"AggregatedEntitiesAtRange",plural:!0,selections:[b,c,{kind:"ScalarField",alias:null,name:"count",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"sample_entities",storageKey:null,args:null,concreteType:null,plural:!0,selections:[a,{kind:"InlineFragment",type:"User",selections:[d,{kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null}]},d]}]},{kind:"LinkedField",alias:null,name:"ranges",storageKey:null,args:null,concreteType:"EntityAtRange",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"entity",storageKey:null,args:null,concreteType:null,plural:!1,selections:[a,d,{kind:"ScalarField",alias:null,name:"url",args:[{kind:"Literal",name:"site",value:"www"}],storageKey:'url(site:"www")'},{kind:"ScalarField",alias:"profile_url",name:"url",args:null,storageKey:null},{kind:"InlineFragment",type:"ExternalUrl",selections:[{kind:"ScalarField",alias:null,name:"external_url",args:null,storageKey:null}]},{kind:"InlineFragment",type:"VideoTimeIndex",selections:[{kind:"ScalarField",alias:null,name:"time_index",args:null,storageKey:null}]},{kind:"InlineFragment",type:"Page",selections:[{kind:"ScalarField",alias:null,name:"category_type",args:null,storageKey:null}]},{kind:"InlineFragment",type:"User",selections:[e]},{kind:"InlineFragment",type:"Group",selections:[e,{kind:"ScalarField",alias:null,name:"work_official_status",args:null,storageKey:null}]}]},b,c]},{kind:"ScalarField",alias:null,name:"text",args:null,storageKey:null}]}]},d]}]}}();e.exports=a}),null);
__d("CometFeedStoryTranslatedMessageContainerRenderingStrategy_messageContainer.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"Fragment",name:"CometFeedStoryTranslatedMessageContainerRenderingStrategy_messageContainer",type:"CometFeedStoryTranslatedMessageContainerRenderingStrategy",metadata:null,argumentDefinitions:[],selections:[{kind:"LinkedField",alias:null,name:"story",storageKey:null,args:null,concreteType:"Story",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"is_text_only_story",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"translation",storageKey:null,args:null,concreteType:"Translation",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"message",storageKey:null,args:null,concreteType:"TextWithEntities",plural:!1,selections:[{kind:"FragmentSpread",name:"CometFeedMessageTextWithEntities_textWithEntities",args:null}]}]},{kind:"FragmentSpread",name:"CometFeedTranslationMenuTrigger_story",args:null}]},{kind:"FragmentSpread",name:"useCometFeedStoryMatchDebugger_iCometStorySection",args:null}]};e.exports=a}),null);
__d("CometFeedTranslationMenuQuery$Parameters",[],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{operationKind:"query",name:"CometFeedTranslationMenuQuery",id:"2730690726975175",text:null,metadata:{relayPreloadable:!0}}};e.exports=a}),null);
__d("CometFeedTranslationMenuTrigger_story.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"Fragment",name:"CometFeedTranslationMenuTrigger_story",type:"Story",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null}]};e.exports=a}),null);
__d("CometFeedMessageQuote.react",["React","TetraText.react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h={blockquote:{borderStartColor:"h2mp5456",borderStartStyle:"mk2mc5f4",borderStartWidth:"peup4ujy",marginEnd:"cxmmr5t8",marginStart:"hcukyx3x",marginBottom:"sej5wr8e",marginTop:"aahdfvyu",paddingEnd:"hv4rvrfc",paddingStart:"dati1w0a"},withLeadingSpace:{marginStart:"dhix69tm"}};function a(a){var c=a.children,d=a.leadingSpace;d=d===void 0?!0:d;a=a.xstyle;return b("React").jsx("blockquote",{className:(g||(g=b("stylex")))(h.blockquote,d&&h.withLeadingSpace,a),children:b("React").jsx(b("TetraText.react"),{type:"body3",children:c})})}e.exports=a}),null);
__d("CometFeedGearActionIcon.react",["ix","CometTintedIcon.react","React","fbicon","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h={gearIcon:{verticalAlign:"sf5mxxl7"}};function a(a){return b("React").jsx(b("CometTintedIcon.react"),{color:"fds-blue-60",icon:b("fbicon")._(g("497565"),12),xstyle:h.gearIcon})}e.exports=a}),null);
__d("CometFeedTranslationActions.react",["CometTrackingNodeProvider.react","Middot.react","React","TetraTextPairing.react"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){a=a.actionElements;var c=[];for(var d=0;d<a.length;d++){d!==0&&c.push(b("React").jsx(b("Middot.react"),{},"middot-"+d));var e=a[d];c.push(e)}return b("React").jsx(b("CometTrackingNodeProvider.react"),{trackingNode:225,children:b("React").jsx(b("TetraTextPairing.react"),{level:4,meta:c,metaColor:"highlight"})})}e.exports=a}),null);
__d("CometFeedTranslationActionButton.react",["CometPressable.react","CometTrackingNodeProvider.react","React","stylex"],(function(a,b,c,d,e,f){"use strict";var g={linkHoverUnderline:{":hover":{textDecoration:"gpro0wi8"}}};function a(a,c){return b("React").jsx(b("CometTrackingNodeProvider.react"),{trackingNode:225,children:b("React").jsx(b("CometPressable.react"),{"aria-label":a.label,display:"inline",onPress:a.onPress,overlayDisabled:!0,ref:c,xstyle:g.linkHoverUnderline,children:a.children})})}e.exports=b("React").forwardRef(a)}),null);
__d("CometFeedTranslationMenu.entrypoint",["CometFeedTranslationMenuQuery$Parameters","JSResource"],(function(a,b,c,d,e,f){"use strict";a={getPreloadProps:function(a){return{queries:{menuQueryReference:{parameters:b("CometFeedTranslationMenuQuery$Parameters"),variables:{storyId:a.storyId}}}}},root:b("JSResource")("CometFeedTranslationMenu.react").__setRef("CometFeedTranslationMenu.entrypoint")};e.exports=a}),null);
__d("CometFeedTranslationMenuTrigger.react",["CometEntryPointPopoverTrigger.react","CometFeedTranslationActionButton.react","CometFeedTranslationMenu.entrypoint","CometRelay","React","recoverableViolation","CometFeedTranslationMenuTrigger_story.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;b("CometRelay").graphql;var h=b("CometRelay").useFragment,i=b("React").useCallback,j=b("React").useState;function a(a){var c=h(g!==void 0?g:g=b("CometFeedTranslationMenuTrigger_story.graphql"),a.story);c=c.id;var d=j(0),e=d[0];d=d[1];var f=i(function(c,d){return b("React").jsx(b("CometFeedTranslationActionButton.react"),{label:a.label,onPress:d,ref:c,children:a.children})},[a.children,a.label]);return c==null?b("recoverableViolation")("Cannot render CometFeedTranslationMenuTrigger with a null story id","comet_feed"):b("React").jsx(b("CometEntryPointPopoverTrigger.react"),{entryPointParams:{storyId:c},otherProps:{translationRating:e,updateTranslationRating:d},popoverEntryPoint:b("CometFeedTranslationMenu.entrypoint"),children:f})}e.exports=a}),null);
__d("CometFeedStoryTranslatedMessageContainerRenderingStrategy.react",["fbt","CometFeedGearActionIcon.react","CometFeedMessageQuote.react","CometFeedMessageTextWithEntities.react","CometFeedTranslationActions.react","CometFeedTranslationMenuTrigger.react","CometFeedUnitQueryVariablesContext","CometPressable.react","CometRelay","CometTrackingNodeProvider.react","React","TetraTextPairing.react","stylex","unrecoverableViolation","useCometFeedStoryMatchDebugger","CometFeedStoryTranslatedMessageContainerRenderingStrategy_messageContainer.graphql"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i;b("CometRelay").graphql;var j=b("CometRelay").useFragment,k=(c=b("React")).useCallback,l=c.useContext,m=c.useMemo,n=c.useState,o={linkHoverUnderline:{":hover":{textDecoration:"gpro0wi8"}},seeTranslationRoot:{paddingBottom:"ihqw7lf3",paddingEnd:"hv4rvrfc",paddingStart:"dati1w0a",paddingTop:"ecm0bbzt"},seeTranslationTextOnly:{paddingBottom:"e5nlhep0",paddingTop:"discj3wi"},textOnlyQuote:{marginBottom:"tvmbv18p",marginTop:"tr9rh885"}};function a(a){__p&&__p();var c=j(h!==void 0?h:h=b("CometFeedStoryTranslatedMessageContainerRenderingStrategy_messageContainer.graphql"),a.messageContainer);b("useCometFeedStoryMatchDebugger")(c);var d=c.story,e=d==null?void 0:(c=d.translation)==null?void 0:c.message;c=n(!1);var f=c[0],p=c[1],q=k(function(){p(function(a){return!a})},[]),r=l(b("CometFeedUnitQueryVariablesContext"));c=m(function(){if(f&&e!=null&&d!=null){var a,c=[(a=b("React")).jsx(b("CometFeedTranslationMenuTrigger.react"),{label:g._("Translation Preferences"),story:d,children:a.jsx(b("CometFeedGearActionIcon.react"),{})},"settings-gear"),a.jsx(b("CometPressable.react"),{display:"inline",onPress:q,overlayDisabled:!0,xstyle:o.linkHoverUnderline,children:g._("Hide Translation")},"toggle"),a.jsx(b("CometFeedTranslationMenuTrigger.react"),{story:d,children:g._("Rate this translation")},"rating-menu")].filter(Boolean);return a.jsxs(b("CometFeedMessageQuote.react"),{xstyle:(d==null?void 0:d.is_text_only_story)===!0&&o.textOnlyQuote,children:[b("React").jsx(b("TetraTextPairing.react"),{body:b("React").jsx(b("CometFeedMessageTextWithEntities.react"),{textWithEntities:e,truncationStyle:(r==null?void 0:r.feedLocation)==="PERMALINK"?"none":"see-more"}),level:3,testid:"CometFeedTranslatedText"}),b("React").jsx(b("CometFeedTranslationActions.react"),{actionElements:c})]})}return b("React").jsx(b("CometTrackingNodeProvider.react"),{trackingNode:225,children:b("React").jsx("div",{className:(i||(i=b("stylex")))(o.seeTranslationRoot,(d==null?void 0:d.is_text_only_story)&&o.seeTranslationTextOnly),children:b("React").jsx(b("TetraTextPairing.react"),{body:b("React").jsx(b("CometPressable.react"),{display:"inline",onPress:q,overlayDisabled:!0,testid:"CometFeedSeeTranslationText",xstyle:o.linkHoverUnderline,children:g._("See Translation")}),bodyColor:"secondary",level:3})})})},[d,q,e,f]);if(d==null)throw b("unrecoverableViolation")("TranslatedMessageContainerRenderingStrategy rendered without a story","comet_feed");if(e==null)throw b("unrecoverableViolation")("TranslatedMessageContainerRenderingStrategy rendered without a translated message","comet_feed");return b("React").jsxs(b("React").Fragment,{children:[a.children,c]})}e.exports=a}),null);